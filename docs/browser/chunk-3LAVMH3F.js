import{e as N,f as q,g as G,h as T,i as x,j as z,k as D,l as R,m as j,r as A}from"./chunk-JJHXTD4G.js";import{Ab as V,Bb as h,Cb as f,Db as v,Fb as B,Ga as c,Hb as C,Ra as k,Z as S,ab as g,cc as W,da as b,ga as w,gc as I,hb as l,ib as d,kb as E,nb as F,oa as m,pa as p,qa as _,va as P,xb as u,yb as y,zb as L}from"./chunk-SJF6I2OU.js";var Q=(()=>{let n=class n extends j{constructor(){super(...arguments),this.source="gamess",this.itemListSignal=k([]),this.snackBar=b(A)}get items$(){return this.itemListSignal}getAll(){this.findAll().subscribe({next:e=>{e.reverse(),this.itemListSignal.set(e)},error:e=>{console.error("Error in get all games request",e),this.snackBar.open(e.error.description,"Close",{horizontalPosition:"right",verticalPosition:"top",panelClass:["error-snackbar"]})}})}save(e){e.status="active",this.add(e).subscribe({next:t=>{this.itemListSignal.update(i=>[t,...i])},error:t=>{console.error("response",t.description),this.snackBar.open(t.error.description,"Close",{horizontalPosition:"right",verticalPosition:"top",panelClass:["error-snackbar"]})}})}update(e){this.add(e).subscribe({next:()=>{let t=this.itemListSignal().map(i=>i.id===e.id?e:i);this.itemListSignal.set(t)},error:t=>{console.error("response",t.description),this.snackBar.open(t.error.description,"Close",{horizontalPosition:"right",verticalPosition:"top",panelClass:["error-snackbar"]})}})}delete(e){this.del(e.id).subscribe({next:()=>{this.itemListSignal.set(this.itemListSignal().filter(t=>t.id!=e.id))},error:t=>{console.error("response",t.description),this.snackBar.open(t.error.description,"Close",{horizontalPosition:"right",verticalPosition:"top",panelClass:["error-snackbar"]})}})}};n.\u0275fac=(()=>{let e;return function(i){return(e||(e=_(n)))(i||n)}})(),n.\u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"});let o=n;return o})();var M=(o,n)=>({"is-invalid":o,"is-valid":n}),oe=(()=>{let n=class n{constructor(){this.game={},this.action="",this.callParentEvent=new P}callEvent(){this.callParentEvent.emit(this.game)}};n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=w({type:n,selectors:[["app-game-form"]],inputs:{game:"game",action:"action"},outputs:{callParentEvent:"callParentEvent"},standalone:!0,features:[B],decls:18,vars:17,consts:[["name","ngModel"],["description","ngModel"],["url","ngModel"],[1,"container"],[1,"row"],[1,"col-6","mb-2"],["type","text","id","name","name","name","placeholder","Name","required","",1,"form-control",3,"ngModelChange","ngModel","ngClass"],["type","text","id","description","name","description","placeholder","Description","required","",1,"form-control",3,"ngModelChange","ngModel","ngClass"],[1,"col-6"],["type","text","id","url","name","url","placeholder","image url","required","",1,"form-control",3,"ngModelChange","ngModel","ngClass"],["type","button",1,"btn","btn-primary","d-flex","align-items-center",3,"click"],[1,"mb-0"]],template:function(t,i){if(t&1){let a=E();l(0,"form",3)(1,"div")(2,"h2"),y(3),d()(),l(4,"div",4)(5,"div",5)(6,"input",6,0),v("ngModelChange",function(r){return m(a),f(i.game.name,r)||(i.game.name=r),p(r)}),d()(),l(8,"div",5)(9,"input",7,1),v("ngModelChange",function(r){return m(a),f(i.game.description,r)||(i.game.description=r),p(r)}),d()(),l(11,"div",8)(12,"input",9,2),v("ngModelChange",function(r){return m(a),f(i.game.imgURL,r)||(i.game.imgURL=r),p(r)}),d()(),l(14,"div",8)(15,"button",10),F("click",function(){return m(a),p(i.callEvent())}),l(16,"p",11),y(17),d()()()()()}if(t&2){let a=u(7),s=u(10),r=u(13);c(3),L(i.action),c(3),h("ngModel",i.game.name),g("ngClass",C(8,M,a.invalid&&a.touched,a.valid&&a.touched)),c(3),h("ngModel",i.game.description),g("ngClass",C(11,M,s.invalid&&s.touched,s.valid&&s.touched)),c(3),h("ngModel",i.game.imgURL),g("ngClass",C(14,M,r.invalid&&r.touched,r.valid&&r.touched)),c(5),V(" ",i.action," ")}},dependencies:[I,W,R,z,N,q,G,D,x,T]});let o=n;return o})();export{Q as a,oe as b};
