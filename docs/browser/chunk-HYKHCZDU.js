import{b as I,c as L}from"./chunk-RBDHSQIQ.js";import{l as F,q as D,r as P,s as T}from"./chunk-JJHXTD4G.js";import{Fb as k,Ga as a,Ib as v,Jb as S,Vb as w,a as _,ab as y,da as p,fb as E,fc as g,ga as b,gb as C,gc as B,hb as e,ib as t,jb as c,kb as U,nb as h,oa as u,pa as f,pb as x,xb as M,yb as i,zb as m}from"./chunk-SJF6I2OU.js";var $=(s,r)=>r.id;function A(s,r){if(s&1){let o=U();e(0,"tr")(1,"th",7),i(2),t(),e(3,"td"),i(4),t(),e(5,"td"),i(6),t(),e(7,"td"),i(8),t(),e(9,"td"),i(10),v(11,"date"),t(),e(12,"td"),i(13),v(14,"date"),t(),e(15,"td")(16,"div",8)(17,"button",9),h("click",function(){let n=u(o).$implicit,d=x(),V=M(22);return f(d.showDetail(n,V))}),c(18,"i",10),t(),e(19,"button",11),h("click",function(){let n=u(o).$implicit,d=x();return f(d.deleteUser(n))}),c(20,"i",12),t()()()()}if(s&2){let o=r.$implicit;a(2),m(o.id),a(2),m(o.name),a(2),m(o.lastname),a(2),m(o.email),a(2),m(S(11,6,o.createdAt,"dd/MM/yyyy HH:mm")),a(3),m(S(14,9,o.updatedAt,"dd/MM/yyyy HH:mm"))}}var R=(()=>{let r=class r{constructor(){this.search="",this.userList=[],this.service=p(I),this.snackBar=p(P),this.currentUser={email:"",lastname:"",password:"",name:""},this.service.getAllSignal(),w(()=>{this.userList=this.service.users$()})}showDetail(l,n){this.currentUser=_({},l),n.show()}deleteUser(l){this.service.deleteUserSignal(l).subscribe({next:()=>{this.snackBar.open("User deleted","Close",{horizontalPosition:"right",verticalPosition:"top",duration:5*1e3})},error:n=>{this.snackBar.open("Error deleting user","Close",{horizontalPosition:"right",verticalPosition:"top",panelClass:["error-snackbar"]})}})}};r.\u0275fac=function(n){return new(n||r)},r.\u0275cmp=b({type:r,selectors:[["app-user-list"]],standalone:!0,features:[k],decls:24,vars:3,consts:[["formModal",""],[1,"table-container","table-responsive"],[1,"table","table-striped"],["scope","col"],["scope","col",1,"text-center"],["size","lg"],[3,"user","action","title"],["scope","row"],[1,"d-flex","justify-content-evenly","align-items-center"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"fa-solid","fa-eye","white"],["type","button",1,"btn","btn-danger",3,"click"],[1,"fa-solid","fa-trash","white"]],template:function(n,d){n&1&&(e(0,"div",1)(1,"table",2)(2,"thead")(3,"tr")(4,"th",3),i(5,"ID"),t(),e(6,"th",3),i(7,"Name"),t(),e(8,"th",3),i(9,"Lastname"),t(),e(10,"th",3),i(11,"email"),t(),e(12,"th",3),i(13,"Created"),t(),e(14,"th",3),i(15,"Updated"),t(),e(16,"th",4),i(17,"Actions"),t()()(),e(18,"tbody"),E(19,A,21,12,"tr",null,$),t()()(),e(21,"app-modal",5,0),c(23,"app-user-form",6),t()),n&2&&(a(19),C(d.userList),a(4),y("user",d.currentUser)("action","edit")("title","Update User"))},dependencies:[B,g,F,D,L,T]});let s=r;return s})();export{R as UserListComponent};
